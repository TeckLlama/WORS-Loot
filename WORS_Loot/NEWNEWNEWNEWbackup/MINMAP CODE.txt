CODE FROM WORS_LOOT MINI MAP BUTTON

---PLACE AFTER---
-- Toggle Command for Frame Visibility
SLASH_WORS_LOOT1 = "/worsloot"
SlashCmdList["WORS_LOOT"] = function()
    if WORS_Loot:IsVisible() then
        WORS_Loot:Hide()
    else
        WORS_Loot:Show()
    end
end
---PLACE AFTER---







-- Minimap Icon for WORS_Loot using LibDBIcon and Ace3
local addon = LibStub("AceAddon-3.0"):NewAddon("WORS_Loot")
WORSLootMinimapButton = LibStub("LibDBIcon-1.0", true)
local miniButton = LibStub("LibDataBroker-1.1"):NewDataObject("WORS_Loot", {
	type = "data source",
	text = "WORS Loot",
	icon = "Interface\\Icons\\INV_Misc_Bag_CoreFelclothBag",
	OnClick = function(self, btn)
        if btn == "LeftButton" then
            if WORS_Loot:IsShown() then
                WORS_Loot:Hide()
            else
                WORS_Loot:Show()
            end
        elseif btn == "RightButton" then
            --if settingsFrame and settingsFrame:IsShown() then
            --    settingsFrame:Hide()
            --elseif settingsFrame then
            --    settingsFrame:Show()
            --end
			if WORS_Loot:IsShown() then
                WORS_Loot:Hide()
            else
                WORS_Loot:Show()
            end
        end
	end,
	OnTooltipShow = function(tooltip)
		if not tooltip or not tooltip.AddLine then
			return
		end
		tooltip:AddLine("WORS Loot\n\nLeft-click: Toggle WORS Loot Window", nil, nil, nil, nil)
		tooltip:AddLine("Right-click: N/A Placeholder", nil, nil, nil, nil)
	end,
})
function addon:OnInitialize()
	self.db = LibStub("AceDB-3.0"):New("WORSLootMinimapDB", {
		profile = {
			minimap = {
				hide = false,
			},
		},
	})
	WORSLootMinimapButton:Register("WORS_Loot", miniButton, self.db.profile.minimap)
end
WORSLootMinimapButton:Show("WORS_Loot")


---PLACE BEFORE---

print("WORS Loot addon loaded.")

---PLACE BEFORE---
